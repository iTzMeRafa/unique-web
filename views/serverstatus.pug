extends layout

block content
  main
    section.section
      br
      .container
        section.hero.is-small.is-warning
          .hero-body
            h1.title
              | Serverstatus
            h2.subtitle
              each loc, locname in locations
                if !loc.first
                  |  | 
                | #{locname} Status:
                if loc.reachable
                  span.has-text-success ON
                else
                  span.has-text-danger OFF
        br
        br
        br
        .tabs.is-large.is-centered
          ul
            each loc, locname in locations
              li(class={'is-active': locname === location})
                a(href='/serverstatus/'+locname) #{locname}

        .columns.columns-swap
          each server in locations[location].servers
            .column.is-half
              .notification.is-white
                | #{server.name} #{server.reachable} #{server.map} #{server.gametype} #{server.numclients} #{server.maxclients}
                if server.reachable
                  if server.numclients
                    table.table
                      tbody
                        each player in server.players
                          tr
                            td= player.name
                            td= player.clan
                            td
                              img(src='/img/twflags/'+player.flag+'.png', style='height:1em')
                            td= player.score
